# "GrapeField" 공연/전시 정보 통합 제공 및 커뮤니티 플랫폼

<p align="middle" style="margin: 0; padding: 0;">
  <img width="360px" src="https://github.com/user-attachments/assets/dc348de4-aecb-4ce0-816e-08062ab7ed74">
</p>

<p align="middle">
[플레이 데이터] 한화시스템 BEYOND SW캠프 12기
<br>🧑🏻‍🌾 CATCHER 파수꾼 팀 🍇
</p>

## 😃 팀원 소개
<figure>
    <table>
      <tr>
        <td align="center"><img src="https://github.com/user-attachments/assets/fc09670f-0100-4deb-a070-a975200e5b44" width="180px"/></td>
        <td align="center"><img src="https://github.com/user-attachments/assets/e1378ccf-4afa-48cd-877d-e64b2ac69c19" width="180px"/></td>
        <td align="center"><img src="https://github.com/user-attachments/assets/e2dc5942-a318-4082-98e9-79a3919b0a07" width="180px"/></td>
	    <td align="center"><img src="https://github.com/user-attachments/assets/05128582-7e08-4fb5-a911-cf095af55af3" width="180px"/></td>
      </tr>
      <tr>
        <td align="center">팀장: <a href="https://github.com/bdt6246">김혜정</a></td>
        <td align="center">팀원: <a href="https://github.com/daydeiday">곽효림</a></td>
        <td align="center">팀원: <a href="https://github.com/J0a0J">김지원</a></td>
        <td align="center">팀원: <a href="https://github.com/s00ya">정지수</a></td>
      </tr>
    </table>
</figure>
<br>


### 목차
- [🛠 기술 스택](#-기술-스택)
- [📚 Grapefield 데모 사이트 링크](https://grapefield.kro.kr/)
- [🎁 Grapefield 서비스 소개](#-enadu-서비스-소개)
- [📈 Grapefield 프로젝트 설계](#-프로젝트-설계)
- [📂 프로젝트 폴더 바로가기](#-프로젝트-폴더-바로가기)
<br><br>


## 🛠 기술 스택

#### &nbsp;　[ Frontend ]
&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white" style="border-radius: 5px;"/>
<img src="https://img.shields.io/badge/css3-1572B6?style=for-the-badge&logo=css3&logoColor=white" style="border-radius: 5px;"/>
<img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white" style="border-radius: 5px;"/>
![Vue.js](https://img.shields.io/badge/vuejs-%2335495e.svg?style=for-the-badge&logo=vuedotjs&logoColor=%234FC08D)
<img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white" style="border-radius: 5px;"/>
<img src="https://img.shields.io/badge/pinia-gold?style=for-the-badge&logo=Pinia&logoColor=white" style="border-radius: 5px;"/>

#### &nbsp;　[ Backend ]
&nbsp;&nbsp;&nbsp;&nbsp; ![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white)
<img src="https://img.shields.io/badge/Spring_Boot-6DB33F?style=for-the-badge&logo=Spring-Boot&logoColor=white" style="border-radius: 5px;">
<img src="https://img.shields.io/badge/Spring_Security-6DB33F?style=for-the-badge&logo=Spring-Security&logoColor=white" style="border-radius: 5px;">
<img src="https://img.shields.io/badge/Spring_Data_JPA-6DB33F?style=for-the-badge&logo=Spring-Boot&logoColor=white" style="border-radius: 5px;">
<img src="https://img.shields.io/badge/SMTP-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white" style="border-radius: 5px;">


#### &nbsp;　[ DB ]
&nbsp;&nbsp;&nbsp;</a>
<img src="https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white" style="border-radius: 5px;"> 
<img src="https://img.shields.io/badge/AmazonS3-e05242?style=for-the-badge&logo=AmazonS3&logoColor=white" style="border-radius: 5px;">
![Elasticsearch](https://img.shields.io/badge/elasticsearch-%230377CC.svg?style=for-the-badge&logo=elasticsearch&logoColor=white)

#### &nbsp;　[ CI/CD ]
&nbsp;&nbsp;&nbsp;&nbsp;![Kubernetes](https://img.shields.io/badge/kubernetes-%23326ce5.svg?style=for-the-badge&logo=kubernetes&logoColor=white)
<img src="https://img.shields.io/badge/docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" style="border-radius: 5px;">
<img src="https://img.shields.io/badge/jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white" style="border-radius: 5px;">

#### &nbsp;　[ Etc ]
&nbsp;&nbsp;&nbsp;&nbsp;
<img src="https://img.shields.io/badge/kafka-231F20?style=for-the-badge&logo=apachekafka&logoColor=white">
<img src="https://img.shields.io/badge/logstash-f3bd19?style=for-the-badge&logo=logstash&logoColor=white" style="border-radius: 5px;">

#### &nbsp;　[ Communication ]
&nbsp;&nbsp;&nbsp;&nbsp;<img src="https://img.shields.io/badge/discord-326CE5?style=for-the-badge&logo=discord&logoColor=white" style="border-radius: 5px;">
<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white" style="border-radius: 5px;">
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white" style="border-radius: 5px;">
![Notion](https://img.shields.io/badge/Notion-%23000000.svg?style=for-the-badge&logo=notion&logoColor=white)
<br><br><br>


## 📚 Grapefield 데모 사이트 바로가기
### [Grapefield](https://grapefield.kro.kr/)</a>
아이디 : animal255@example.com    
비밀번호 : 1234     
(그 외에도 animal1@example.com ~ animal346@example.com 중에서 자유롭게 사용 가능)
<br><br>

## 📝 Grapefield 서비스 소개
### 프로젝트 배경
![Untitled design](https://github.com/user-attachments/assets/a88cc400-a490-48f2-ac3e-c71d02e95a16)

오프라인 문화 콘텐츠 플랫폼인 GrapeField는 일회성으로 소비되던 채팅과 후기, 질문답변을 영구적으로 아카이빙하여 가치 있는 정보로 재탄생시키는 핵심 컨셉입니다. 특히 실시간 채팅 데이터에서 자동으로 하이라이트 구간을 탐지하고, 사용자 리뷰와 Q&A를 체계적으로 보관하여 미래 사용자들에게 유용한 정보 저장소를 제공합니다.<br>

이러한 서비스를 안정적으로 운영하기 위해서는 효율적인 개발 및 배포 환경이 필수적입니다.<br>
전통적인 배포 방식은 <br>`코드 변경` → `코드 통합` → `빌드` → `배포 준비 및 배포` → `모니터링`<br>과정에서 수동 작업이 많고, 통합의 어려움, 개발자의 오류 리스크가 컸습니다.<br><br>

GrapeField에서는 실시간 채팅 데이터 처리, 사용자 생성 콘텐츠의 안정적인 저장 및 검색, 그리고 하이라이트 구간 자동 감지와 같은 복잡한 기능들을 지원하기 위해 현대적인 CI/CD 파이프라인이 필수적입니다. <br>이를 통해 배포 프로세스의 대부분을 자동화하여 번거로운 작업을 간소화하고, 개발자의 실수로 인한 에러를 방지하며, 서비스의 지속적인 개선과 확장을 가능하게 합니다.<br><br>
특히 "Archive" 기능은 대량의 데이터를 효율적으로 저장하고 검색할 수 있는 인프라를 필요로 하며, 실시간 채팅의 "하이라이트 구간" 탐지는 고성능 데이터 처리 시스템을 요구합니다. <br>이러한 기술적 요구사항을 충족시키기 위해 Elasticsearch, Kafka, Kubernetes 등의 최신 기술을 도입하여 안정적이고 확장 가능한 데브옵스 환경을 구축하였습니다.

---

## 🎯 시스템 아키텍처
![image](https://github.com/user-attachments/assets/6b47fed2-a38d-470b-98f3-d470ea9d5d0d)


## 📚 데브옵스 프로젝트 목표
- `CI/CD 파이프라인 구축` : 코드 변경 → 자동 빌드 → 테스트 → 배포까지 자동화
- `모니터링 및 로깅` : 애플리케이션 상태 모니터링 및 로그 수집 (Elasticsearch, Logstash)
- `컨테이너화 및 오케스트레이션` : Docker, Kubernetes를 통한 배포 및 확장성 확보
- `메시지 큐 시스템` : Kafka를 활용한 실시간 채팅 및 이벤트 처리
- `보안 및 백업 관리` : 서버 보안, 사용자 인증, 데이터 백업 자동화
<br>


## ⚙️ 주요 기능 시연
<details>
<summary>무중단 배포</summary>

> 다운 타임이 없는 무중단 배포 방식 중 Kubernetes의 롤링 업데이트 전략을 적용하였다. 롤링 업데이트는 파드를 점진적으로 교체하여 서비스 중단 없이 애플리케이션을 업데이트하는 방식이다. 이를 통해 서비스 연속성을 유지하면서도 신속한 업데이트가 가능하기 때문에 이 방식을 선택했다.
</details>


<details>
<summary>CI/CD 파이프라인</summary>
![jenkins](https://github.com/user-attachments/assets/1250d35f-41be-4724-be1f-30f08ca5dfba)


1. **코드 푸시**
   - 개발자가 `main` 브랜치에 코드를 **Merge 또는 Push**합니다.

2. **GitHub → Jenkins**
   - GitHub는 Webhook을 통해 Jenkins에 이벤트를 전달합니다.

3. **Jenkins 파이프라인 실행**
   - Jenkins는 사전에 정의된 파이프라인 절차를 실행합니다.
   - 주요 단계는 다음과 같습니다:
     - GitHub에서 최신 코드 **Clone**
     - **Gradle**을 통해 Spring Boot 애플리케이션 **Build**
     - **Elasticsearch-Nori 플러그인**이 포함된 **커스텀 이미지 Build**
     - 백엔드 애플리케이션의 **Docker 이미지 Build**
     - 생성된 이미지를 **Docker Hub에 Push**

4. **Kubernetes 배포**
   - Jenkins는 Kubernetes 클러스터에 새로운 이미지를 배포합니다:
     - 배포 YAML 파일의 **이미지 태그 업데이트**
     - `kubectl apply` 명령어를 사용해 **배포 적용**
     - `kubectl rollout status` 명령어로 **배포 상태 확인**
     - **롤링 업데이트** 방식으로 기존 파드를 새 버전으로 점진적 교체

</details>

<details>
<summary>로깅 및 모니터링 시스템</summary>

> **Elasticsearch**와 **Logstash**를 활용하여 애플리케이션 로그를 수집하고 분석합니다.  
> **실시간 채팅 데이터**는 **Kafka**를 통해 처리되며, 특정 시간대의 메시지 빈도를 분석하여 **하이라이트 구간을 자동 탐지**합니다.  
> 이를 통해 **서비스 상태 모니터링**과 **사용자 행동 패턴 분석**이 가능합니다.

</details>

<details>
<summary>데이터 처리 및 메시징</summary>
	
> **Kafka**를 활용하여 **실시간 채팅 메시지 처리**와 **이벤트 기반 아키텍처**를 구현했습니다.  
> 채팅 메시지는 **MariaDB**에 영구 저장되며, 동시에 **Elasticsearch**에 인덱싱되어 효율적인 **검색 및 분석**이 가능합니다.  
> **Amazon S3**는 사용자 업로드 **파일 저장소**로 활용됩니다.

</details>



## 🚀 핵심 로직 상세 설명
### [📃 프로젝트 Wiki](https://github.com/beyond-sw-camp/be12-fin-Catcher-GrapeField-BE/wiki) <br><br>


## 📂 프로젝트 폴더 바로가기
### [📃 Frontend](https://github.com/beyond-sw-camp/be12-fin-Catcher-GrapeField-FE.git)
### [📃 Devops(Frontend)](https://github.com/beyond-sw-camp/be12-fin-Catcher-GrapeField-FE/tree/main/devops)
### [📃 Backend](https://github.com/beyond-sw-camp/be12-fin-Catcher-GrapeField-BE.git)
### [📃 Devops(Backend)](https://github.com/beyond-sw-camp/be12-fin-Catcher-GrapeField-BE/tree/main/devops)
